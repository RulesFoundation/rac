# 26 USC §32(j)(2) - Rounding
#
# "(A) IN GENERAL.—If any dollar amount in subsection (b)(2)(A) (after being
# increased under subparagraph (A) or (B) of paragraph (1)), is not a multiple
# of $10, such dollar amount shall be rounded to the nearest multiple of $10.
#
# (B) DISQUALIFIED INCOME THRESHOLD AMOUNT.—If the dollar amount in subsection
# (i)(1) (after being increased under paragraph (1)(A)) is not a multiple of
# $50, such dollar amount shall be rounded to the nearest multiple of $50."

rounding_rules:
  reference: "26 USC § 32(j)(2)"
  description: EITC rounding rules for indexed amounts

  # Rule A: General rounding (nearest $10)
  A:
    reference: "26 USC § 32(j)(2)(A)"
    description: Round to nearest multiple of $10
    applies_to:
      - us/26/32/b/2/A/earned_income_amount
      - us/26/32/b/2/A/phaseout_amount
      - us/26/32/b/2/B/joint_return_adjustment
    rule:
      type: nearest
      multiple: 10
      # Note: "nearest" means 0.5 rounds up (standard rounding)

  # Rule B: Disqualified income rounding (nearest $50)
  B:
    reference: "26 USC § 32(j)(2)(B)"
    description: Round to nearest multiple of $50
    applies_to:
      - us/26/32/i/1/disqualified_income_limit
    rule:
      type: nearest
      multiple: 50

  # Implementation note
  implementation: |
    Python: round(value / multiple) * multiple
    Example: round(7843 / 10) * 10 = 7840

    Edge case: 7845 rounds to 7850 (0.5 rounds up)
